import json
import unittest


from Command import Command


class TestCommand(unittest.TestCase):
    def test_update_command(self):
        command = Command()
        command.action = 2
        self.assertEqual(command.update_command(), "{'_id':'Livingroom TV', 'channel':'2'}")

    def test_process_data(self):
        command = Command()
        command.process_data('{"blinkStrength": 255}')
        self.assertEqual(command.blinks, 1)

    def test_check_attention(self):
        command = Command()
        command.check_attention(json.loads('{"eSense": {"attention": 80}}'))
        self.assertEqual(command.action, 7)


    def test_check_meditation(self):
        command = Command()
        command.check_meditation(json.loads('{"eSense": {"meditation": 100}}'))
        self.assertEqual(command.action, 5)

